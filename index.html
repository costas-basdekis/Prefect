<html>
    <head>
        <meta charset="utf-8">
        <title>Prefect: A Caesar III inspired game</title>
        <style type="text/css">
            [name=description]:not(:checked) ~ #description {
                display: none;
            }
            [name=map_properties]:not(:checked) ~ #app #map_properties {
                display: none;
            }
        </style>
        <script type="text/javascript">
            function onCheck(el) {
                const prop = el.name;
                const state = JSON.parse(
                    localStorage.getItem('displayOptions') || '{}');
                state[prop] = el.checked;
                localStorage.setItem('displayOptions', JSON.stringify(state));
            }

            function setCheck(el) {
                const prop = el.name;
                const state = JSON.parse(
                    localStorage.getItem('displayOptions') || '{}');
                if (!(prop in state)) {
                    state[prop] = true;
                }
                el.checked = !!state[prop];
            }

            function setAllCheck() {
                const elements = document.getElementsByClassName('check');
                for (const el of elements) {
                    setCheck(el);
                }
            }

            window.onload = setAllCheck;
        </script>
    </head>
    <body>
        <input type="checkbox" name="description" id="check_description" class="check" onclick="onCheck(this)">
        <label for="check_description">Show description</label>
        <div id="description">
            <p>
                This an attempt to reproduce Caesar III mechanics. Hopefully it will
                be possible to play a full game!
            </p>
            <p>
                Current features:
                <ul>
                    <li>Display a grid with various types of terrain</li>
                    <li>Have a toolbox</li>
                    <li>Select tiles according to toolbox selection type</li>
                    <li>Make roads and clear tools work</li>
                    <li>Add houses</li>
                    <li>Implement newcomers, and house level and occupancy</li>
                    <li>People that seek workers on the streets</li>
                    <li>Find workers on the street</li>
                </ul>
            </p>
            <p>
                Working on:
                <ul>
                    <li>Service workers</li>
                </ul>
            </p>
            <p>
                Next features:
                <ul>
                    <li>Determine worker percentage</li>
                    <li>Allocate workers via available workers</li>
                    <li>Allocate workers per industry</li>
                    <li>Proper demographics</li>
                    <li>Fire &amp; damage</li>
                    <li>Reservoirs and fountains</li>
                    <li>Farms, granaries, markets</li>
                    <li>Goods deliverers and seekers</li>
                    <li>Map editor</li>
                    <li>Procedural random map generation</li>
                </ul>
            </p>
        </div>
        <input type="checkbox" name="map_properties" id="check_map_properties" class="check" onclick="onCheck(this)">
        <label for="check_map_properties">Show map properties</label>
        <div id="app" />
        <script src="src/client/public/bundle.js" type="text/javascript"></script>
    </body>
</html>
